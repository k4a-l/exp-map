@import url("https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap");

@layer reset, base, tokens, recipes, utilities;

@layer base {
	h1,
	h2,
	h3,
	h4,
	h5,
	h6,
	ol,
	ul,
	li,
	pre,
	code,
	table,
	td,
	th,
	tbody,
	thead,
	tr,
	p,
	a {
		all: revert; /* スタイルをデフォルトに戻す */
	}

	html,
	body {
		/* 少し柔らかい感じのフォント */
		font-family: "Kosugi Maru", sans-serif;
		height: 100%;
		overflow: auto;
		scroll-padding-top: calc(34px + 1em);
	}

	/********** CHECKBOX / LIST**********/
	ol,
	ul {
		padding-left: 2em;
	}

	ul > li {
		list-style-type: disc;
	}

	li {
		position: relative;
		height: 100%;
	}

	/* 強調表示 */
	.highlight {
		background-color: yellow !important; /* 背景色を変更 */
		transition: background-color 0.5s ease; /* 背景色が滑らかに変化 */
	}

	.md-post-container {
		ol ol,
		ul ul,
		ol ul,
		ul ol {
			li::before {
				content: "";
				left: -3em;
				position: absolute;
				height: 100%;
				border-left-width: 1px;
				border-left-style: solid;
				border-left-color: #ddd;
			}
		}

		li::marker {
			color: #888;
			font-size: 0.8em;
		}
	}

	.toc {
		li {
			all: revert;
		}
	}

	.task-list-item {
		display: flex;
		align-items: center;
		gap: 6;
	}

	input[type="checkbox"] {
		--checkbox-color: #1b78e2;
		appearance: none; /* デフォルトのスタイルを無効化 */
		-webkit-appearance: none;
		width: 1em; /* チェックボックスの幅 */
		height: 1em; /* チェックボックスの高さ */
		border: 1px solid var(--checkbox-color); /* 緑の枠線 */
		border-radius: 0.2em;
		background-color: white;
		cursor: pointer;
		position: relative;

		&:checked {
			&::after {
				content: "";
				position: absolute;
				top: 0%;
				left: 30%;
				width: 40%;
				height: 80%;
				border: solid var(--checkbox-color); /* チェックマークの色 */
				border-width: 0 0.2em 0.2em 0;
				transform: rotate(45deg);
			}
		}
	}

	.contains-task-list > li > * {
		/* padding-left: 0.6em; */
		transform: translateX(-1.5em);
	}

	/********** TOC **********/
	.toc {
		padding: 1em 2em;
		border-radius: 0.5em;
		border: 1px solid #eee;
		font-size: 0.8em;
		ul,
		ol {
			padding: 0.2em 0px 0em 20px;
		}
		li {
			list-style: circle;
			list-style: none;
			color: navy;
		}
		a {
			display: inline-block;
			width: 100%;
			padding: 0.1em 0.5em;
			color: inherit;
			text-decoration: none;
			&:hover {
				background-color: #eeeeee;
			}
		}
	}

	.callout-title {
		display: flex;
		flex-direction: row;
	}

	/********** COLL OUT **********/
	/* 開閉 */
	.callout-content {
		display: grid;
		grid-template-rows: 0fr;
		transition: 250ms grid-template-rows ease;
	}
	[data-expanded="true"] .callout-content {
		grid-template-rows: 1fr;
	}
	.callout-content > div {
		overflow: hidden;
	}
	[data-expandable="true"] .callout-title {
		cursor: pointer;
	}

	@media (prefers-color-scheme: dark) {
		blockquote {
			--color-border-default: #30363d;
			--color-default-fg: #30363d;
			--color-default-bg: whitesmoke;
			--color-accent-fg: #1b78e2;
			--color-accent-bg: #f8fbfe;
			--color-danger-fg: #f85149;
			--color-danger-bg: #fff0f0;
			--color-attention-fg: #d29922;
			--color-attention-bg: #fff7e8;
			--color-done-fg: #a371f7;
			--color-done-bg: #f7f2ff;
			--color-tip-fg: #0cb9c5;
			--color-tip-bg: #f0feff;
			--color-success-fg: #3fb950;
			--color-success-bg: #f0fff3;
		}
	}

	blockquote {
		margin: 1em 0;
		padding: 0.5em 1em;

		display: grid;
		grid-template-rows: 0fr;
	}

	blockquote:not([data-callout]) {
		background-color: var(--color-default-bg);
	}

	blockquote[data-callout] {
		border-left: 0.25em solid
			var(--borderColor-default, var(--color-border-default));
		color: inherit;
		padding: 0.8em 1em 1em 1em;

		background-color: var(--color-callout-bg);
		border-left-color: var(--color-callout-fg);
	}

	blockquote[data-callout] .callout-title {
		align-items: center;
		display: flex;
		font-size: 14px;
		line-height: 1;
		gap: 0.3em;
		font-weight: bold;

		color: var(--color-callout-fg);
	}

	blockquote[data-callout] .callout-title-icon svg {
		width: 1em;
		height: 1em;
	}

	blockquote[data-callout="note"],
	blockquote[data-callout="info"],
	blockquote[data-callout="todo"] {
		--color-callout-bg: var(--color-accent-bg);
		--color-callout-fg: var(--color-accent-fg);
	}

	blockquote[data-callout="tip"],
	blockquote[data-callout="abstract"],
	blockquote[data-callout="abstract"] {
		--color-callout-bg: var(--color-tip-bg);
		--color-callout-fg: var(--color-tip-fg);
	}

	blockquote[data-callout="important"],
	blockquote[data-callout="example"] {
		--color-callout-bg: var(--color-done-bg);
		--color-callout-fg: var(--color-done-fg);
	}

	blockquote[data-callout="warning"],
	blockquote[data-callout="question"] {
		--color-callout-bg: var(--color-attention-bg);
		--color-callout-fg: var(--color-attention-fg);
	}

	blockquote[data-callout="caution"],
	blockquote[data-callout="failure"],
	blockquote[data-callout="danger"],
	blockquote[data-callout="bug"] {
		--color-callout-bg: var(--color-danger-bg);
		--color-callout-fg: var(--color-danger-fg);
	}

	blockquote[data-callout="success"] {
		--color-callout-bg: var(--color-success-bg);
		--color-callout-fg: var(--color-success-fg);
	}

	blockquote[data-callout="quote"] {
		--color-callout-bg: var(--color-default-bg);
		--color-callout-fg: var(--color-default-fg);
	}
}
